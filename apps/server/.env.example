# ==============================================
# WebEDT Server Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# IMPORTANT: Never commit .env files to version control!

# ==============================================
# DATABASE CONFIGURATION
# ==============================================

# PostgreSQL Connection String
# Format: postgresql://username:password@host:port/database
#
# For local development:
#   postgresql://postgres:password@localhost:5432/webedt
#
# For production, update with your production database:
# - Enable SSL if required: ?sslmode=require or ?ssl=true
# - Use connection pooling: ?max=20&idleTimeoutMillis=30000
DATABASE_URL=postgresql://postgres:password@localhost:5432/webedt

# ==============================================
# SESSION SECURITY
# ==============================================

# Secret key for session encryption
# CRITICAL: Generate a strong random secret for production!
#
# Generate with: openssl rand -base64 32
# Or use: openssl rand -hex 32
#
# Must be at least 32 characters for security
SESSION_SECRET=your-random-secret-here-change-in-production

# ==============================================
# GITHUB OAUTH CONFIGURATION
# ==============================================

# Create a GitHub OAuth App at:
# https://github.com/settings/developers
#
# Configuration for local development:
# - Application name: WebEDT Local (or your choice)
# - Homepage URL: http://localhost:5173
# - Callback URL: http://localhost:3001/api/github/oauth/callback
#
# For production, update callback URL to your domain:
# - Callback URL: https://yourdomain.com/api/github/oauth/callback

# GitHub OAuth Client ID (from your OAuth App)
GITHUB_OAUTH_CLIENT_ID=your-github-client-id

# GitHub OAuth Client Secret (from your OAuth App)
GITHUB_OAUTH_CLIENT_SECRET=your-github-client-secret

# OAuth Redirect/Callback URL
# Local: http://localhost:3001/api/github/oauth/callback
# Production: https://yourdomain.com/api/github/oauth/callback
GITHUB_OAUTH_REDIRECT_URL=http://localhost:3001/api/github/oauth/callback

# ==============================================
# AI CODING WORKER CONFIGURATION
# ==============================================

# URL where the ai-coding-worker service is running
# Local development: http://localhost:5001
# Production: Update to your production worker URL
AI_WORKER_URL=http://localhost:5001

# ==============================================
# SERVER CONFIGURATION
# ==============================================

# Port for the Express server
# Default: 3001
PORT=3001

# Node environment
# Development: development
# Production: production
NODE_ENV=development

# ==============================================
# CORS CONFIGURATION
# ==============================================

# Comma-separated list of allowed origins
# Local development includes both Vite dev server ports
# Production: Update to your production frontend URL(s)
#
# Example production: https://yourdomain.com,https://app.yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ==============================================
# OPTIONAL CONFIGURATIONS
# ==============================================

# Uncomment and configure these as needed:

# Logging Level
# Options: error, warn, info, debug, trace
# LOG_LEVEL=info

# Rate Limiting (future enhancement)
# RATE_LIMIT_WINDOW_MS=900000
# RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# OPENAI API CONFIGURATION
# ==============================================

# OpenAI API Key for voice transcription using Whisper
# Get your API key from: https://platform.openai.com/api-keys
# If not set, voice input will fallback to browser's Web Speech API
# OPENAI_API_KEY=your-openai-api-key-here

# ==============================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==============================================
#
# Before deploying to production, ensure you:
#
# 1. DATABASE_URL - Update to production database with SSL
# 2. SESSION_SECRET - Generate new random secret (openssl rand -base64 64)
# 3. GITHUB_OAUTH_* - Update callback URL to production domain
# 4. AI_WORKER_URL - Point to production worker instance
# 5. NODE_ENV - Set to "production"
# 6. ALLOWED_ORIGINS - Update to production frontend URL(s)
# 7. Use secure environment variable storage (not .env files in production)
#
